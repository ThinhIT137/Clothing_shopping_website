@model Clothing_shopping.Models.User
@{
    ViewData["Title"] = "Cài đặt tài khoản";
}

<h2>Cài đặt tài khoản</h2>

@if (ViewBag.Success != null)
{
    <div class="alert alert-success">
        @ViewBag.Success
    </div>
}

@if (ViewBag.Error != null)
{
    <div class="alert alert-danger">
        @ViewBag.Error
    </div>
}

<form asp-action="Settings" method="post" class="row g-3">
    <div class="col-md-6">
        <label for="firstName" class="form-label">Họ</label>
        <input type="text" class="form-control" id="firstName" name="firstName" value="@(Model?.FullName?.Split(' ')[0] ?? "")">
    </div>

    <div class="col-md-6">
        <label for="secondName" class="form-label">Tên</label>
        <input type="text" class="form-control" id="secondName" name="secondName" value="@(Model?.FullName?.Split(' ').Length > 1 ? Model.FullName.Split(' ')[1] : "")">
    </div>

    <div class="col-md-6">
        <label for="currentPassword" class="form-label">Mật khẩu cũ</label>
        <input type="password" class="form-control" id="currentPassword" name="currentPassword" placeholder="Nhập mật khẩu hiện tại nếu đổi">
    </div>

    <div class="col-md-6">
        <label for="password" class="form-label">Mật khẩu mới</label>
        <input type="password" class="form-control" id="password" name="password" placeholder="Để trống nếu không đổi">
    </div>

    <div class="col-md-6">
        <label for="confirmPassword" class="form-label">Xác nhận mật khẩu mới</label>
        <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="Nhập lại mật khẩu mới">
    </div>

    <div class="col-md-6">
        <label for="address" class="form-label">Địa chỉ</label>
        <input type="text" class="form-control" id="address" name="address" value="@Model?.Address">
    </div>

    <div class="col-md-6">
        <label for="phone" class="form-label">Số điện thoại</label>
        <input type="text" class="form-control" id="phone" name="phone" value="@Model?.Phone">
    </div>

    <div class="col-md-6">
        <label for="gender" class="form-label">Giới tính</label>
        <select class="form-select" id="gender" name="Gender">
            <option value="">Chọn giới tính</option>
            <option value="Nam">Nam</option>
            <option value="Nữ">Nữ</option>
            <option value="Khác">Khác</option>
        </select>
    </div>

    <div class="col-md-6">
        <label for="birthday" class="form-label">Ngày sinh</label>
        <input type="date" class="form-control" id="birthday" name="Birthday" 
               value="@(Model?.Birthday.HasValue == true ? Model.Birthday.Value.ToString("yyyy-MM-dd") : "")">
    </div>

    <div class="col-12">
        <button type="submit" class="btn btn-primary">Cập nhật</button>
    </div>
</form>
